# Куда пойти 
## Сайт о самых интересных местах в Москве.
![Screenshot from 2022-10-16 17-06-34](https://user-images.githubusercontent.com/99894266/196034572-599405e8-8f00-49a9-be9c-5c5cb0f2e69a.png)

Ссылка на демо версию сайта: [kamenev.pythonanywhere.com](https://kamenev.pythonanywhere.com)

Сайт представляет собой интерактивную карту Москвы, на которой отмечаются места активного отдыха и различных достопримечательностей с подробными описаниями и комментариями.


## Как установить сайт на удаленном сервере
#### Упрощенный вариант для ознакомительных целей
* Загрузите проект на сервер:
<br>`git clone https://github.com/KamenevArtem/where_to_go.git`
* Перейдите в созданную папку проекта:
<br>`cd where_to_go`
* Создайте виртуальное окружение:
<br>`python3 -m venv venv`
* Активируйте виртуальное окружение:
<br>`source venv/bin/activate`
* Установите все зависимости:
<br>`pip install -r requirements.txt`


* Создайте в корневом каталоге вашего проекта файл `.env` и задайте в нем переменные окружения по образцу:
```
SECRET_KEY=<секретный ключ вашего проекта джанго>
ALLOWED_HOSTS=<ip разрешенных серверов>
DEBUG=False
```


где:
<br>SECRET_KEY - секретный ключ для конкретной установки Django. Для начала установите любую случайную строку;
<br>ALLOWED_HOSTS - имена хостов/доменов (через запятую), которым разрешено обслуживать сайт Django;
<br>DEBUG=False - установка неактивного меню разработчика


* Выполните команду, для создания базы данных:
<br>`python3 manage.py migrate`
* Создайте первого суперпользователя:
<br>`python3 manage.py createsuperuser`
* Загрузите данные в базу данных сайта:
* Запустите виртуальный сервер:
<br>`python3 manage.py runserver 0.0.0.0:8000`

* Сайт будет доступен по ссылке:
<br>`http://<IP вашего сервера>:8000/`

Для взаимодействия с панелью администратора, необходимо перейти по ссылке:
<br>`http://<IP вашего сервера>:8000/admin`

### Загрузка новых локаций

Для того, чтобы загрузить новую локацию в базу данных, необходимо воспользоваться менеджмент командой `load_places`:
```
python3 manage.py load_places "Ссылка на файл с данными"
```

Файл, в котором хранится информация о новой локации должен быть в `json`-формате и иметь следующий вид:

```
{
    "title": "Название локации",
    "imgs": [
        Ссылки на изображени локации
    ],
    "description_short": "Краткое описание локации",
    "description_long": "Полное описание локации",
    "coordinates": {
        "lng": "Долгота",
        "lat": "Широта"
    }
}
```
